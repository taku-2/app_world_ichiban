<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>マッチングアプリ会話シミュレーター</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Helvetica Neue', 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
            background: linear-gradient(to top right, #f3e7e9 0%, #e3eeff 100%);
        }
        .chat-bubble-you {
            background-color: #DCF8C6;
            align-self: flex-end;
            border-radius: 20px 20px 4px 20px;
        }
        .chat-bubble-partner {
            background-color: #FFFFFF;
            align-self: flex-start;
            border-radius: 20px 20px 20px 4px;
        }
        /* スクロールバーのスタイル */
        #category-list::-webkit-scrollbar, #chat-container::-webkit-scrollbar {
            width: 6px;
        }
        #category-list::-webkit-scrollbar-track, #chat-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        #category-list::-webkit-scrollbar-thumb, #chat-container::-webkit-scrollbar-thumb {
            background: #a8a8a8;
            border-radius: 10px;
        }
        #category-list::-webkit-scrollbar-thumb:hover, #chat-container::-webkit-scrollbar-thumb:hover {
            background: #7a7a7a;
        }
        .main-container {
            height: calc(100vh - 4rem); /* ヘッダーの高さを引く */
        }
        .category-button.active {
            background-color: #ecf2ff;
            color: #4a69e2;
            font-weight: 600;
            border-right: 4px solid #4a69e2;
        }
    </style>
</head>
<body class="antialiased">

    <div class="flex flex-col h-screen">
        <!-- ヘッダー -->
        <header class="bg-white/80 backdrop-blur-md shadow-sm z-10 sticky top-0">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <h1 class="text-xl sm:text-2xl font-bold text-gray-800">イケオジ会話シミュレーター</h1>
                    <div class="hidden sm:block text-right">
                        <p class="text-sm font-medium text-gray-600">30,40代男性向け</p>
                    </div>
                </div>
            </div>
        </header>

        <!-- メインコンテンツ -->
        <div class="w-full max-w-7xl mx-auto flex-1 flex">
            <main class="w-full flex bg-white/70 rounded-lg shadow-lg main-container overflow-hidden">
                <!-- サイドバー: カテゴリリスト -->
                <aside class="w-1/3 md:w-1/4 lg:w-1/5 bg-white/50 border-r border-gray-200 overflow-y-auto" id="category-list">
                    <div class="p-4 border-b border-gray-200">
                        <h2 class="font-semibold text-gray-700">会話シーン</h2>
                    </div>
                    <nav class="py-2">
                        <!-- カテゴリはここに動的に生成されます -->
                    </nav>
                </aside>

                <!-- チャット表示エリア -->
                <section class="flex-1 flex flex-col">
                    <div id="chat-header" class="flex items-center p-3 border-b border-gray-200 bg-white">
                        <img src="https://images.unsplash.com/photo-1525134479668-1bee5c7c6845?q=80&w=400&auto=format&fit=crop" alt="相手のアイコン" class="w-10 h-10 rounded-full mr-3 object-cover">
                        <div>
                            <p id="partner-name" class="font-semibold text-gray-800">会話相手</p>
                            <p class="text-xs text-green-500">オンライン</p>
                        </div>
                    </div>
                    <div id="chat-container" class="flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto space-y-8 bg-gray-100/50">
                        <!-- 会話例はここに動的に生成されます -->
                         <div class="flex flex-col items-center justify-center h-full text-gray-500">
                             <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-pink-300 mb-4"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                            <p class="text-center font-medium">会話を始めましょう</p>
                            <p class="text-center text-sm">左のリストから見たい会話シーンを<br>選んでください。</p>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- コピー成功の通知 -->
    <div id="toast" class="fixed bottom-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-300">
        クリップボードにコピーしました！
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const femaleIconUrl = 'https://images.unsplash.com/photo-1525134479668-1bee5c7c6845?q=80&w=400&auto=format&fit=crop';

    // --- データセット (イケオジバージョン) ---
    const conversationData = [
        {
            category: "1. 最初の挨拶",
            examples: [
                {
                    title: "落ち着いた雰囲気で褒める",
                    chat: [
                        { speaker: "you", text: "はじめまして。〇〇さんのプロフィールの落ち着いた雰囲気が素敵だなと思って、いいねしました。よかったら、少しお話しませんか？" },
                        { speaker: "partner", text: "ありがとうございます、嬉しいです。落ち着いてますかね？笑 こちらこそ、よろしくお願いします。" },
                        { speaker: "you", text: "はい、とても。写真から穏やかな人柄が伝わってきます。普段からインドアで過ごすことが多いんですか？" },
                        { speaker: "partner", text: "そうですね、休みの日は家で映画を観たり、本を読んだりすることが多いです。" }
                    ]
                },
                {
                    title: "趣味への共感とリスペクトを示す",
                    chat: [
                        { speaker: "you", text: "こんにちは。プロフィールにあった[趣味]の写真、すごく良いですね。僕も昔少しだけかじってたので、懐かしくなりました。お話できたら嬉しいです。" },
                        { speaker: "partner", text: "本当ですか！[趣味]をされていたんですね！嬉しいです！" },
                        { speaker: "you", text: "[趣味]って、奥が深くて楽しいですよね。〇〇さんは、どんなところに魅力を感じますか？" },
                        { speaker: "partner", text: "私は、[具体的な魅力]なところが好きです。没頭できる時間が心地よくて。" }
                    ]
                },
                {
                    title: "仕事への姿勢に触れる",
                    chat: [
                        { speaker: "you", text: "はじめまして。プロフィールを拝見して、お仕事に対する考え方がしっかりされていて素敵だなと思いました。もしご迷惑でなければ、お話してみたいです。" },
                         { speaker: "partner", text: "わ、そんなところまで見てくださったんですね！ありがとうございます。嬉しいです。" },
                         { speaker: "you", text: "いえいえ。目標に向かって頑張っている人は、年齢関係なく魅力的だと思いますよ。お仕事、毎日お忙しいですか？" },
                         { speaker: "partner", text: "日によりますが、やりがいがあって楽しいです！" }
                    ]
                }
            ]
        },
        {
            category: "2. 趣味・日常の会話",
            examples: [
                {
                    title: "旅行の話を深掘りする",
                    chat: [
                        { speaker: "you", text: "旅行の写真、いいですね。その場所は[地名]かな？僕も仕事で一度だけ行ったことがあるけど、プライベートで行くとまた違いそう。どんなところが一番良かった？" },
                        { speaker: "partner", text: "詳しいですね！そうです、[地名]です！仕事で行かれたんですね。私は[具体的な場所]で食べた[食べ物]が最高でした！" },
                        { speaker: "you", text: "いいなぁ、それは羨ましい。仕事だと、なかなかそういう楽しみ方ができないからね。次はどこか行ってみたい場所とかあるんですか？" },
                        { speaker: "partner", text: "うーん、次はのんびりできる温泉とか行きたいですね。" }
                    ]
                },
                 {
                    title: "好きな食べ物の話から広げる",
                    chat: [
                        { speaker: "you", text: "美味しいものが好きなんですね。僕もです。最近[ジャンルの食べ物]にハマってるんだけど、〇〇さんのおすすめのお店とかってあったりしますか？参考にさせてもらえたら嬉しいな。" },
                        { speaker: "partner", text: "そうなんですね！[ジャンルの食べ物]でしたら、[エリア]にある[店名]がすごく美味しいですよ！" },
                        { speaker: "you", text: "ありがとう、今度調べてみますね。〇〇さんは、お店の雰囲気とか、どんな感じが好きですか？" },
                        { speaker: "partner", text: "私は、ちょっと隠れ家みたいな、落ち着いた雰囲気のお店が好きです。" }
                    ]
                },
                 {
                    title: "休日の過ごし方を聞く",
                    chat: [
                        { speaker: "you", text: "今日もお仕事お疲れさま。週末はゆっくりできそうですか？" },
                        { speaker: "partner", text: "お疲れ様です！はい、今週末は特に予定ないです。のんびりすると思います！" },
                        { speaker: "you", text: "それも良い時間の使い方だよね。もし僕が「おすすめの映画でも観ながらのんびりしたら？」って言ったら、どんな映画を選ぶ？" },
                        { speaker: "partner", text: "えー、なんだろう！急な質問ですね（笑）でも、[映画のジャンル]の映画を観ると思います！" }
                    ]
                },
            ]
        },
        {
            category: "3. デートへのスマートな誘い",
             examples: [
                {
                    title: "会話の心地よさから誘う",
                    chat: [
                        { speaker: "you", text: "〇〇さんと話してると、すごく心地良い時間が流れるね。もしよかったら、今度ゆっくり話しませんか？" },
                        { speaker: "partner", text: "本当ですか？私も〇〇さんと話してると楽しいです。ぜひ！" },
                        { speaker: "you", text: "よかった。美味しいコーヒーが飲める静かなカフェがあるんだけど、どうかな。もちろん、〇〇さんの好きな場所でも。" },
                        { speaker: "partner", text: "わ、素敵ですね！ぜひそのカフェに行ってみたいです！" }
                    ]
                },
                {
                    title: "相手の興味に寄り添って誘う",
                    chat: [
                        { speaker: "you", text: "隠れ家みたいな落ち着いたお店、良いですよね。僕もそういう場所が好きです。実は、[エリア]に気になるお店があるんだけど、今度一緒に付き合ってもらえませんか？" },
                        { speaker: "partner", text: "え、いいんですか？嬉しいです！" },
                        { speaker: "you", text: "もちろんだよ。〇〇さんもきっと気に入ると思うんだ。もしよかったら、来週か再来週あたりで、都合の良い日とかありますか？" },
                        { speaker: "partner", text: "はい！来週の土曜日なら空いてます！" }
                    ]
                },
                {
                    title: "軽い提案で誘う",
                    chat: [
                        { speaker: "you", text: "温泉いいですね。僕も好きです。話してたら、なんだか美味しいものでも食べたくなってきたな。" },
                        { speaker: "partner", text: "わかります（笑）私もお腹すいてきちゃいました。" },
                        { speaker: "you", text: "よかったら、近いうちに美味しいものでも食べに行きませんか？仕事終わりとか、週末とか、〇〇さんのタイミングの良い時で。" },
                        { speaker: "partner", text: "はい！ぜひ行きたいです！" }
                    ]
                },
            ]
        },
        {
            category: "4. NG例と改善案",
            examples: [
                {
                    title: "上から目線に聞こえる褒め方",
                    chat: [
                        { type: "divider", text: "避けるべき例" },
                        { speaker: "you", text: "若いのにしっかりしてるね。" },
                        { speaker: "partner", text: "（…なんか年上ぶってるな…）ありがとうございます。" },
                        { type: "divider", text: "改善案" },
                        { speaker: "you", text: "仕事に対する考え方、すごくしっかりしてて尊敬します。" },
                    ]
                },
                {
                    title: "お説教・アドバイス",
                    chat: [
                        { type: "divider", text: "避けるべき例" },
                        { speaker: "partner", text: "最近、仕事でちょっとミスしちゃって…。" },
                        { speaker: "you", text: "それは大変だったね。でも、そういう時はまず原因を分析して、次に同じミスをしないように対策を立てることが大事だよ。" },
                        { partner: "partner", text: "（…求めてたのは共感なんだけどな…）" },
                        { type: "divider", text: "改善案" },
                        { speaker: "partner", text: "最近、仕事でちょっとミスしちゃって…。" },
                        { speaker: "you", text: "そっか、それは落ち込むよね。誰にでもあることだから、あまり自分を責めすぎないでね。美味しいものでも食べて元気出して。" },
                    ]
                },
            ]
        }
    ];

    const categoryList = document.getElementById('category-list');
    const chatContainer = document.getElementById('chat-container');
    const partnerName = document.getElementById('partner-name');
    const partnerIcon = document.getElementById('chat-header').querySelector('img');

    // 初期アイコン設定
    partnerIcon.src = femaleIconUrl;

    // カテゴリリストの生成
    conversationData.forEach((item) => {
        const categoryButton = document.createElement('button');
        categoryButton.textContent = item.category;
        categoryButton.className = 'w-full text-left p-3 pl-4 text-gray-700 hover:bg-gray-100 transition-colors duration-150 category-button border-r-4 border-transparent';
        categoryButton.addEventListener('click', (e) => {
            displayConversations(item);
            document.querySelectorAll('#category-list button').forEach(btn => btn.classList.remove('active'));
            e.currentTarget.classList.add('active');
        });
        categoryList.querySelector('nav').appendChild(categoryButton);
    });

    // 会話内容の表示
    function displayConversations(categoryItem) {
        chatContainer.innerHTML = '';
        partnerName.textContent = categoryItem.category;

        categoryItem.examples.forEach(example => {
            const titleElement = document.createElement('h3');
            titleElement.className = 'text-md font-bold text-gray-800 mb-4 pb-2 border-b-2 border-pink-200';
            titleElement.textContent = example.title;
            chatContainer.appendChild(titleElement);

            const chatLog = document.createElement('div');
            chatLog.className = 'flex flex-col space-y-4';

            example.chat.forEach((message, index) => {
                if (message.type === 'divider') {
                    const divider = document.createElement('div');
                    divider.className = 'flex items-center space-x-2 my-4';
                    divider.innerHTML = `<hr class="flex-grow border-t border-gray-300"><span class="text-xs font-semibold text-gray-500">${message.text}</span><hr class="flex-grow border-t border-gray-300">`;
                    chatLog.appendChild(divider);
                    return;
                }

                const messageWrapper = document.createElement('div');
                messageWrapper.className = 'flex items-end gap-2 group';

                const bubble = document.createElement('div');
                bubble.className = 'max-w-xs md:max-w-md p-3 shadow-sm relative';
                bubble.textContent = message.text;

                if (message.speaker === 'you') {
                    messageWrapper.classList.add('justify-end');
                    bubble.classList.add('chat-bubble-you');

                    const copyButton = document.createElement('button');
                    copyButton.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>`;
                    copyButton.className = 'p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity bg-white/50 hover:bg-white';
                    copyButton.title = "コピーする";
                    copyButton.onclick = () => copyToClipboard(message.text);
                    
                    messageWrapper.appendChild(copyButton);
                    messageWrapper.appendChild(bubble);
                } else {
                    messageWrapper.classList.add('justify-start');
                    bubble.classList.add('chat-bubble-partner', 'border', 'border-gray-200');
                    const avatar = document.createElement('img');
                    avatar.src = femaleIconUrl;
                    avatar.alt = '相手のアイコン';
                    avatar.className = 'w-8 h-8 rounded-full object-cover flex-shrink-0';

                    messageWrapper.appendChild(avatar);
                    messageWrapper.appendChild(bubble);
                }
                chatLog.appendChild(messageWrapper);
            });
            chatContainer.appendChild(chatLog);
        });
        chatContainer.scrollTop = 0;
    }

    function copyToClipboard(text) {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        try {
            document.execCommand('copy');
            showToast();
        } catch (err) {
            console.error('コピーに失敗しました', err);
        }
        document.body.removeChild(textarea);
    }

    function showToast() {
        const toast = document.getElementById('toast');
        toast.classList.remove('opacity-0');
        setTimeout(() => {
            toast.classList.add('opacity-0');
        }, 2000);
    }
});
</script>

</body>
</html>

